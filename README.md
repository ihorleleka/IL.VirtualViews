[![NuGet version (IL.VirtualViews)](https://img.shields.io/nuget/v/IL.VirtualViews.svg?style=flat-square)](https://www.nuget.org/packages/IL.VirtualViews/)
# IL.VirtualViews
Library which allows virtually register *.cshtml file as .cs classes with special attributes.

# How to use

* Reference IL.VirtualViews in your project
* Use registration extensions coming with library to activate functionality: `(IServiceCollection)services.AddVirtualViewsCapabilities()` or `(WebApplicationBuilder)builder.AddVirtualViewsCapabilities()`
* Use `[VirtualViewPath("")]` attribute for your classes with path to a view you want to register virtually
* Derive your class from `IVirtualView` interface and implement the content which view is supposed to have

## Examples
```
[VirtualViewPath("/Views/Test.cshtml")]
class Sample : IVirtualView
{
    public static string ViewContent =>
    """
    @model string

    @Html.Raw(Model)
    """;
}
```
# Virtual cshtml

There a support for .virtual.cshtml files that have build action `Additional Files`.
Following location of such file there will be generated partial `*.cs` file with same name as source `*.virtual.cshtml` file.
Autogenerated file will automatically have all the content that you have populated in `.virtual.cshtml`, so that you can only introduce your own(not source generated) partial part and decorate it with `VirtualViewPath` attribute.

## Sample

`/Test/Test.virtual.cshtml` addded to solution with build action = `Additional Files`

and with content
```
@model string

@Html.Raw(Model)
```

will produce source generated file `Test.g.cs`:

```
using IL.VirtualViews.Interfaces;

namespace VirtualViews;

public partial class Test : IVirtualView
{
    public static string ViewContent =>
    """
    @model string
    
    @Html.Raw(Model)
    """;
}
```

Then you only need to create non-auto-generated partial part and decorate it with `VirtualViewPath` attribute with desired path original view was supposed to be handled for.
